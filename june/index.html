<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='shortcut icon' href='../img/favicon.ico' type='image/x-icon'/ >

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Data Sketches</title>
    <meta name="author" content="Nadieh Bremer">
    <meta name="description" content="Data Sketches - June - Fun">
    <meta name="keywords" content="data, visualization, visualisation, data visualization, data visualisation, information, information visualization, information visualisation, dataviz, datavis, infoviz, infovis, collaboration, data art">

    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Tinos:400,400i|Sacramento|Quicksand|Playfair+Display:400i" rel="stylesheet">

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <!-- Moment -->
    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script src="https://momentjs.com/downloads/moment-timezone-with-data.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script> -->

	  <!-- fancyBox -->
	  <link rel="stylesheet" href="../plugins/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
	  <script type="text/javascript" src="../plugins/fancybox/jquery.fancybox.pack.js"></script>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../css/style.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>

  <header>
    <!-- Logo and name -->
    <div>
      <a class="hide-mobile peach kingBasil no-border" href="../may"><div class="top-links other-month-link textRight">go to May</div></a>
      <div class="month-logo"><a class="no-border" href=".."><img class="paddingTop20" src="../img/logo.png" width="120" /></a></div>
      <a class="hide-mobile peach kingBasil no-border" href="../july"><div class="top-links other-month-link textLeft">go to July</div></a>
    </div>
    <div>
      <a class="quicksand no-border" href=".."><div class="top-links datasketch-top-link"><span class="dark-grey">data sketch<span class="dark-pink">|</span>es</span></div></a>
    </div>

    <!-- Title above -->
    <div class="row">
      <div class="col-xs-12 month-page-title">
        <h2 class="kingBasil peach">June</h2>
        <h1 class="quicksand">Fun</h1>
      </div>
    </div>
  </header>

    <section id="june" class="month-page">
      <div class="nadieh background col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>
      <div class="shirley background col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>

      <div class="container">
        <!-- Write-ups -->
        <div class="row">
          <!-- Nadieh -->
          <div class="col-xs-12 col-md-6 write-up">
            <div class="nadieh">
              <div class="name paddingBelow kingBasil">Nadieh</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand">amsterdam</div>

  			        <!-- <a href="code/nadieh"><img src="code/nadieh/img/breather_earth_header.jpg" class="img-responsive img-month-top" alt="A Breathing Earth"></a> -->

                <h3 class="margin-top-10">week 1 <span class="light-grey">|</span> data</h3>

                <p>Yes, I know it's been 6 months since I finished up <a href="../april/code/nadieh">the April month</a>, and yes, I know I'm supposed to do May before June. However, I'm still not quite sure about my angle for May and I <i>did</i> have an idea in mind for June üòÖ I am starting to understand that the topics that I can get <i>really</i> enthusiastic about are a bit of a niche, that not many other people truly know it. I can only hope that for the people who are fans, as I am, this month will be a joy to explore. The topic that I've chosen for our month of <i>fun</i> is "Cardcaptor Sakura"!</p>
                <a class="fancybox" href="data/nadieh/img/cardcaptor_sakura.png"> <img src="data/nadieh/img/cardcaptor_sakura_small.jpg" class="img-responsive img-month" alt="Cardcaptor Sakura"></a>

                <p>A magic-girl manga (i.e. Japanese comic) from about 20 years ago. It was the first manga I owned, when manga was practically unknown in the Netherlands. I even had to travel all the way to the biggest city of our province to buy a new volume. I'm still dreadfully jealous of how <i>perfect</i> and cute practically each panel of the manga looks üòç I almost chose this subject for our <a href="../january/code/nadieh">January Nostalgia month</a>, but eventually went with Dragonball Z then. Nevertheless, after 20 years a new "arc" of Cardcaptor Sakura has started again recently. Therefore, while thinking of what to do for our fun month, I just couldn't shake the feeling of wanting to so something with Cardcaptor Sakura (CCS).</p>

                <p>One of my favorite things about CCS is how beautiful the writers, CLAMP, make each page. Especially the covers of each chapter, which are tiny works of art (the image above is the cover for chapter 23). I therefore wanted to investigate the covers through data somehow. And I've never before done any kind of analysis based on image data. I therefore thought that creating a visualization that would abstract the colors of each cover into 3 - 8 colors would be fun and new for me.</p>

                <p>There are 50 chapters in the original CCS manga, divided into two "arcs". I went through all of the 12 CCS volumes I have (each contains ¬±4 chapters) to see what image was on the cover (btw, you can also read CCS online, for example <a href="https://mangarock.com/manga/mrs-serie-287638/chapter/mrs-chapter-287639">here</a>). In my volumes the covers are printed in black and white. However, all of those chapter covers have since been published in several CCS art books. I therefore searched for and downloaded the corresponding color image from the <a href="http://ccsakura.wikia.com/wiki/Artbook">CCS Wiki page</a>.</p>
                
                <p>Using the <a href="https://cran.r-project.org/web/packages/imager/index.html">imager package</a> in R, I loaded the images into R where each pixel was transformed into a multidimensional array of RGBA values. I converted that complex array into a more simple data frame of (number of pixels) * 3 (for r, g, and b value) size. To figure out which algorithm would cluster the pixel values into decent colors groups I tried several things. First, I tried different techniques: from the standard K-means, to hierarchical clustering and even tSNE. But I also converted the RGB values of each pixel into other color spaces (where colors have different "distances" to each other and can thus result into different cluster), using, amongst others, the <a href="https://cran.r-project.org/web/packages/colorspace/index.html">colorspace</a> package.</p>

                <p>I often converted the results of each test into a bar chart such as below to see the color groups found. Eventually, I found that using Kmeans together with the colors converted to "Lab" gave, visually, results that I found most fitting</p>
                <a class="fancybox" href="data/nadieh/img/chapter_cover_color_distribution.png"> <img src="data/nadieh/img/chapter_cover_color_distribution.png" class="img-responsive img-month" alt="Color distribution of the first CCS chapter using Kmeans"></a>

                <p>However, one of the tricky things with K-means is to figure out how many clusters should be used to create groups. I first tried a combination with hierarchical clustering, but eventually I decided to use something that was probably a better judge (but more time consuming), my own eyes! For each chapter I created a graph as below, that shows me the color distribution for 3 color clusters, up to 11 (I didn't want too many). I then compared the actual cover to these groups and chose the best fitting one, with the most distinct colors, and saved the hex colors and %s (the height of the bars) into a json.</p>
                <a class="fancybox" href="data/nadieh/img/number_colors_decision.png"> <img src="data/nadieh/img/number_colors_decision.png" class="img-responsive img-month" alt="Color distributions of several Kmeans results with different number of clusters"></a>

                <p>To complement this data about the chapter covers, I also wanted to gather information about which characters were in each chapter and which "card" was captured in which chapter (CCS is about Sakura collecting so-called magical Clow cards). The <a href="http://ccsakura.wikia.com/wiki/Chapter_1">CCS Wiki page on each chapter</a> seemed like just the information resource I needed. But sadly, only the first 8 chapters contain information. Well, nothing else to do but to read all chapters again myself while slowly filling an Excel file with the info I needed üòú</p>

                <p>Due to the "layered" visual result of this month, I eventually sliced and diced all of this information (who is in each chapter/cover image, totals per character/chapter, relations between characters, color distributions, and more) into about 7 separate small files throughout the creation process. I prefer to prepare all data beforehand in R. I find that the easiest and it doesn't clutter my JavaScript code.</p>

                <h3>week 2 <span class="light-grey">|</span> sketch</h3>

                <p></p>

                <h3>week 3 & 4 <span class="light-grey">|</span> code</h3>

                <p></p>

            </div>
          </div>

          <!-- Shirley -->
          <div class="col-xs-12 col-md-6 write-up">
            <div class="shirley">
              <div class="name paddingBelow kingBasil">Shirley</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand">san francisco</div>

              <!-- <a href="http://sxywu.com/obamas" target='_new'><img src="code/shirley/final.png" class="img-responsive img-month-top" alt=""></a> -->

              <h3 class="margin-top-10">week 1 <span class="light-grey">|</span> data</h3>

              <p></p>
                <!-- <a class="fancybox" href="data/shirley/years.png"> <img src="data/shirley/years.png" class="img-responsive img-month"></a> -->

              <h3>week 2 <span class="light-grey">|</span> sketch</h3>

              <p></p>

              <h3>week 3 & 4 <span class="light-grey">|</span> code</h3>

              <p></p>

            </div>
          </div>

        </div>

        <!-- Our names and website below -->
        <div class="row">
          <div class="nadieh col-xs-6">
            <div class="name kingBasil">Nadieh</div>
            <div class="quicksand"><a href="http://www.visualcinnamon.com/">VisualCinnamon.com</a></div>
          </div>

          <div class="shirley col-xs-6">
            <div class="name kingBasil">Shirley</div>
            <div class="quicksand"><a href="http://sxywu.com/">sxywu.com</a></div>
          </div>
        </div>

      </div>
    </section>

    <section id="june-guest" class="month-page">
      <div class="guest background-guest col-xs-12 col-sm-12 col-md-12 col-lg-12"></div>

      <div class="container guest-container">
        <!-- Write-up -->
        <div class="row">
          <!-- Guest -->
          <div class="col-xs-12 col-md-12 write-up">
            <div class="guest">
			  <div class="guest-introduction quicksand">introducing our guest</div>
              <div class="name-guest paddingBelow kingBasil">Matt Daniels</div>
              <div class="time kingBasil"></div>
              <div class="location quicksand paddingBelow">new york</div>

                <!-- <a href="http://www.studioterp.nl/voices-that-care/"><img src="code/guest/Voices that Care, a datavisualization by STUDIO TERP-cover.jpg" class="img-responsive img-month-top" alt="Voices that care"></a> -->

                <h3>week 1 <span class="light-grey">|</span> data</h3>

                <p></p>
                <!-- <a class="fancybox" href="sketch/guest/170523_STUDIO-TERP_viz-Charity-songs-sketch-05.png"><img  class="img-responsive img-month" src="sketch/guest/170523_STUDIO-TERP_viz-Charity-songs-sketch-05.png" /></a> -->

                <h3>week 2 <span class="light-grey">|</span> sketch</h3>

                <p></p>

                <h3>week 3 <span class="light-grey">|</span> design</h3>

                <p></p>

            </div>
          </div>

        </div>

        <!-- Guest name and website below -->
        <div class="row">
          <div class="guest col-xs-12">
            <div class="name kingBasil">Matt</div>
            <div class="quicksand"><a href="https://pudding.cool/">Pudding</a></div>
          </div>
        </div>

      </div>
    </section>

    <footer class="guest-month">
      <div class="container">
        <div>
          <span>a monthly collaboration between </span>
          <span class="kingBasil">Nadieh Bremer & Shirley Wu</span>
        </div>
        <div class="quicksand">
          <a href="https://twitter.com/datasketches">@datasketches</a><span class="pipe-divider">  |  </span>#datasketches
        </div>
        <div class="about-link quicksand">
          <a href="../about">about</a><span class="pipe-divider">  |  </span><a href="../feed.xml">rss</a><span class="pipe-divider">  |  </span><a href="https://tinyletter.com/datasketches">newsletter</a>
        </div>
      </div>
    </footer>

	<script>
  function setTime() {
    var format = 'h:mm a';
    var time = new Date();
    var nadieh = moment(time, format).tz("Europe/Amsterdam");
    var shirley = moment(time, format).tz("America/Los_Angeles");
	  var guest = moment(time, format).tz("America/New_York");
    $('.nadieh .time').text(nadieh.format(format));
    $('.shirley .time').text(shirley.format(format));
	  $('.guest .time').text(guest.format(format));

    var nadiehColor = nadieh.hour();
    nadiehColor = nadiehColor >= 18 || nadiehColor <= 6 ? 'dark' : 'light';
    var shirleyColor = shirley.hour();
    shirleyColor = shirleyColor >= 18 || shirleyColor <= 6 ? 'dark' : 'light';
    var guestColor = guest.hour();
    guestColor = guestColor >= 18 || guestColor <= 6 ? 'dark' : 'light';

    $('.nadieh').removeClass('light dark').addClass(nadiehColor);
    $('.shirley').removeClass('light dark').addClass(shirleyColor);
	  $('.guest').removeClass('light dark').addClass(guestColor);
  }

  $( document ).ready( function() {
    setTime();
    setInterval(setTime, 60000);
    $(".fancybox").fancybox({
      openEffect : 'fade',
      closeEffect : 'fade',
      padding: 0,
      helpers: {
      overlay: {
        locked: false
      }
      }
    });
  });
	</script>

  </body>
</html>
